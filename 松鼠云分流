#==========================================
# @ConfigName        è‡ªç”¨ Clash é…ç½®æ–‡ä»¶
# @Author            @Squirrel Cloud
# @UpdateTime        2024å¹´10æœˆ20æ—¥ 09:00
#==========================================

port: 7890 # HTTP(S) ä»£ç†æœåŠ¡å™¨ç«¯å£
socks-port: 7891 # SOCKS5 ä»£ç†ç«¯å£
mixed-port: 7893 # HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆç«¯å£
redir-port: 7892 # é€æ˜ä»£ç†ç«¯å£ï¼Œç”¨äº Linux å’Œ MacOS
tproxy-port: 7893 # é€æ˜ä»£ç†ç«¯å£ï¼Œç”¨äº Linux (TProxy TCP and TProxy UDP)
allow-lan: true # å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: '*' # ç»‘å®š IP åœ°å€ï¼Œä»…ä½œç”¨äº allow-lan ä¸º true æ—¶ï¼Œ'*'è¡¨ç¤ºæ‰€æœ‰åœ°å€
mode: rule # 'rule' è§„åˆ™ / 'global' å…¨å±€ / 'direct' ç›´è¿
log-level: silent # æ—¥å¿—ç­‰çº§ silent/error/warning/info/debug
ipv6: true # å¼€å¯ IPv6 æ€»å¼€å…³ï¼Œå…³é—­é˜»æ–­æ‰€æœ‰ IPv6 é“¾æ¥å’Œå±è”½ DNS è¯·æ±‚ AAAA è®°å½•
external-controller: 127.0.0.1:9090
hosts:
  # '*.mihomo.dev': 127.0.0.1
  # '.dev': 127.0.0.1
  # 'alpha.mihomo.dev': '::1'
  # test.com: [1.1.1.1, 2.2.2.2]
  # home.lan: lan # lan ä¸ºç‰¹åˆ«å­—æ®µï¼Œå°†åŠ å…¥æœ¬åœ°æ‰€æœ‰ç½‘å¡çš„åœ°å€
  # baidu.com: google.com # åªå…è®¸é…ç½®ä¸€ä¸ªåˆ«å

# DNS é…ç½®
dns:
  cache-algorithm: arc
  enable: false # å…³é—­å°†ä½¿ç”¨ç³»ç»Ÿ DNS
  prefer-h3: false # æ˜¯å¦å¼€å¯ DoH æ”¯æŒ HTTP/3ï¼Œå°†å¹¶å‘å°è¯•
  listen: 0.0.0.0:53 # å¼€å¯ DNS æœåŠ¡å™¨ç›‘å¬
  # ipv6: false # false å°†è¿”å› AAAA çš„ç©ºç»“æœ
  # ipv6-timeout: 300 # å•ä½ï¼šmsï¼Œå†…éƒ¨åŒæ ˆå¹¶å‘æ—¶ï¼Œå‘ä¸Šæ¸¸æŸ¥è¯¢ AAAA æ—¶ï¼Œç­‰å¾… AAAA çš„æ—¶é—´ï¼Œé»˜è®¤ 100ms
  # ç”¨äºè§£æ nameserverï¼Œfallback ä»¥åŠå…¶ä»– DNS æœåŠ¡å™¨é…ç½®çš„ï¼ŒDNS æœåŠ¡åŸŸå
  # åªèƒ½ä½¿ç”¨çº¯ IP åœ°å€ï¼Œå¯ä½¿ç”¨åŠ å¯† DNS
  default-nameserver:
    - 119.29.29.29 # è…¾è®¯å…¬å…±DNS
    - 114.114.114.114 # 114DNS
  enhanced-mode: fake-ip # redir-host or fake-ip
  fake-ip-range: 198.18.0.1/16 # Fake IP æ± è®¾ç½®
  nameserver:
    - 119.29.29.29 # è…¾è®¯å…¬å…±DNS
    - 114.114.114.114 # 114DNS
    - https://doh.pub/dns-query # DNS over HTTPS
    - https://dns.alidns.com/dns-query#h3=true # å¼ºåˆ¶ HTTP/3ï¼Œä¸ perfer-h3 æ— å…³ï¼Œå¼ºåˆ¶å¼€å¯ DoH çš„ HTTP/3 æ”¯æŒï¼Œè‹¥ä¸æ”¯æŒå°†æ— æ³•ä½¿ç”¨
    - https://mozilla.cloudflare-dns.com/dns-query#DNS&h3=true # æŒ‡å®šç­–ç•¥ç»„å’Œä½¿ç”¨ HTTP/3
    - dhcp://en0 # DNS from DHCP
    - quic://dns.adguard.com:784 # DNS over QUIC
  
  # é…ç½® fallback
  fallback:
   - tcp://1.1.1.1
  fallback-filter:
    geoip: true # é…ç½®æ˜¯å¦ä½¿ç”¨ geoip
    geoip-code: CN # å½“ nameserver åŸŸåçš„ IP æŸ¥è¯¢ geoip åº“ä¸º CN æ—¶ï¼Œä¸ä½¿ç”¨ fallback ä¸­çš„ DNS æŸ¥è¯¢ç»“æœ
    ipcidr:
      - 240.0.0.0/4

# GEOé…ç½®
# geodata-mode: true # æ›´æ”¹ geoip ä½¿ç”¨æ–‡ä»¶ï¼Œmmdb æˆ–è€… datï¼Œå¯é€‰ true/falseï¼Œtrueä¸ºdatï¼Œæ­¤é¡¹æœ‰é»˜è®¤å€¼ false
# geodata-loader: memconservative # GEOæ–‡ä»¶åŠ è½½æ¨¡å¼ï¼Œstandard æ ‡å‡†åŠ è½½å™¨ / memconservative ä¸“ä¸ºå†…å­˜å—é™ (å°å†…å­˜) è®¾å¤‡ä¼˜åŒ–çš„åŠ è½½å™¨ (é»˜è®¤å€¼)
# geo-auto-update: true # è‡ªåŠ¨æ›´æ–° GEO
# geo-update-interval: 720 # æ›´æ–°é—´éš”ï¼Œå•ä½ä¸ºå°æ—¶
# geox-url:
#   geoip: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
#   geosite: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
#   mmdb: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"
#   asn: "https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb"

# ç­–ç•¥ç»„å¼•ç”¨
Pr: &a3 {type: select, proxies: [è‡ªåŠ¨é€‰æ‹©,æ‰‹åŠ¨é€‰æ‹©,é¦™æ¸¯èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å¾·å›½èŠ‚ç‚¹,è‹±å›½èŠ‚ç‚¹,DIRECT]}
Pro: &a1 {type: http, interval: 28800, health-check: {enable: true, url: http://www.gstatic.com/generate_204, interval: 1800}}
Auto: &a4 {type: url-test, lazy: true, url: http://www.gstatic.com/generate_204, interval: 300, use: [Subscribe]}
Man: &a2 {type: select, use: [Subscribe]}
classical: &a6 {type: http, behavior: classical, interval: 28800}
domain: &a5 {type: http, behavior: domain, interval: 28800}
ipcidr: &a7 {type: http, behavior: ipcidr, interval: 28800}

proxy-providers:
  Subscribe:
    <<: *a1
    url: https://xpanel.6969819.com/api/v1/client/subscribe?token=277d6d6986fdc42d02bdc2c75cf2b52f # ä½ çš„èŠ‚ç‚¹è®¢é˜…åœ°å€
    path: ./proxy_providers/Airport.yaml
    
proxies: null
proxy-groups:
  # åˆ†æµåˆ†ç»„
  - {name: æ¾é¼ äº‘ğŸ¿ï¸, <<: *a2, icon: https://hoofei.com/clash/Icons/Manual.png }
  - {name: Google, type: select, proxies: [é¦™æ¸¯èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å¾·å›½èŠ‚ç‚¹,è‹±å›½èŠ‚ç‚¹,DIRECT], icon: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/icon/color/google.png }
  - {name: OpenAI, type: select, proxies: [é¦™æ¸¯èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å¾·å›½èŠ‚ç‚¹,è‹±å›½èŠ‚ç‚¹,DIRECT], icon: https://hoofei.com/clash/Icons/OpenAI.png }
  - {name: Telegram, type: select, proxies: [é¦™æ¸¯èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å¾·å›½èŠ‚ç‚¹,è‹±å›½èŠ‚ç‚¹,DIRECT], icon: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/icon/color/telegram.png }
  - {name: Github, type: select, proxies: [é¦™æ¸¯èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å¾·å›½èŠ‚ç‚¹,è‹±å›½èŠ‚ç‚¹,DIRECT], icon: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/icon/color/github.png }
  - {name: å›½å¤–ç”µå•†, type: select, proxies: [é¦™æ¸¯èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å¾·å›½èŠ‚ç‚¹,è‹±å›½èŠ‚ç‚¹,DIRECT], icon: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/icon/color/blibee.png }
  - {name: PrivateTracker, type: select, proxies: [é¦™æ¸¯èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å¾·å›½èŠ‚ç‚¹,è‹±å›½èŠ‚ç‚¹,DIRECT], icon: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/icon/color/cylink.png }
  - {name: æ¼ç½‘ä¹‹é±¼, type: select, proxies: [é¦™æ¸¯èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å¾·å›½èŠ‚ç‚¹,è‹±å›½èŠ‚ç‚¹,DIRECT], icon: https://hoofei.com/clash/Icons/Match.png}
  
  # èŠ‚ç‚¹åˆ†ç»„
  - {name: é¦™æ¸¯èŠ‚ç‚¹, <<: *a4, filter: "é¦™æ¸¯", icon: https://raw.githubusercontent.com/yammadev/flag-icons/refs/heads/master/png/HK%403x.png}
  - {name: æ—¥æœ¬èŠ‚ç‚¹, <<: *a4, filter: "æ—¥æœ¬", icon: https://raw.githubusercontent.com/yammadev/flag-icons/refs/heads/master/png/JP%403x.png}
  - {name: å°æ¹¾èŠ‚ç‚¹, <<: *a4, filter: "å°æ¹¾", icon: https://raw.githubusercontent.com/yammadev/flag-icons/refs/heads/master/png/TW%403x.png}
  - {name: ç¾å›½èŠ‚ç‚¹, <<: *a4, filter: "ç¾å›½", icon: https://raw.githubusercontent.com/yammadev/flag-icons/refs/heads/master/png/US%403x.png}
  - {name: ç‹®åŸèŠ‚ç‚¹, <<: *a4, filter: "ç‹®åŸ", icon: https://raw.githubusercontent.com/yammadev/flag-icons/refs/heads/master/png/SG%403x.png}
  - {name: è‹±å›½èŠ‚ç‚¹, <<: *a4, filter: "è‹±å›½", icon: https://raw.githubusercontent.com/yammadev/flag-icons/refs/heads/master/png/GB%403x.png}
  - {name: å¾·å›½èŠ‚ç‚¹, <<: *a4, filter: "å¾·å›½", icon: https://raw.githubusercontent.com/yammadev/flag-icons/refs/heads/master/png/DE%403x.png}
  
rules:

# åˆ†æµ-Google
  - DOMAIN-KEYWORD,googlevideo,Google
  - DOMAIN-KEYWORD,google,Google
  - DOMAIN-KEYWORD,youtube,Google
  - DOMAIN-KEYWORD,ggpht,Google
  - DOMAIN-KEYWORD,ytimg,Google
# åˆ†æµ-OpenAI
  - DOMAIN-KEYWORD,chatgpt,OpenAI
  - DOMAIN-KEYWORD,openai,OpenAI
# > Github
  - DOMAIN-KEYWORD,github,Github
  - DOMAIN-KEYWORD,rawgit,Github
  - DOMAIN-KEYWORD,repo,Github
  - DOMAIN-KEYWORD,myoctocat,Github
  - DOMAIN-KEYWORD,npm,Github
  - DOMAIN-KEYWORD,ghcr,Github
# åˆ†æµ-Telegram
  - DOMAIN-KEYWORD,telegram,Telegram
  - DOMAIN-KEYWORD,nicegram,Telegram
  - GEOIP,telegram,Telegram
# åˆ†æµ-å›½å¤–ç”µå•†
  - DOMAIN-KEYWORD,allegro,å›½å¤–ç”µå•†
  - DOMAIN-KEYWORD,ebay,å›½å¤–ç”µå•†
  - DOMAIN-KEYWORD,amazon,å›½å¤–ç”µå•†
  - DOMAIN-KEYWORD,cdiscount,å›½å¤–ç”µå•†
  - DOMAIN-KEYWORD,aliexpress,å›½å¤–ç”µå•†
  - DOMAIN-KEYWORD,manomao,å›½å¤–ç”µå•†
  - DOMAIN-KEYWORD,walmart,å›½å¤–ç”µå•†
# åˆ†æµ-å›½å†…æµé‡
  - GEOIP,CN,DIRECT
# åˆ†æµ-PTç«™
  - DOMAIN-KEYWORD,lemonhd,PrivateTracker
  - DOMAIN-KEYWORD,52pt,PrivateTracker
  - DOMAIN-KEYWORD,1ptba,PrivateTracker
  - DOMAIN-KEYWORD,audiences,PrivateTracker
  - DOMAIN-KEYWORD,agsvpt,PrivateTracker
  - DOMAIN-KEYWORD,btschool,PrivateTracker
  - DOMAIN-KEYWORD,ptchdbits,PrivateTracker
  - DOMAIN-KEYWORD,cyanbug,PrivateTracker
  - DOMAIN-KEYWORD,carpt,PrivateTracker
  - DOMAIN-KEYWORD,ptcafe,PrivateTracker
  - DOMAIN-KEYWORD,dajiao,PrivateTracker
  - DOMAIN-KEYWORD,discfan,PrivateTracker
  - DOMAIN-KEYWORD,ecust,PrivateTracker
  - DOMAIN-KEYWORD,0ff,PrivateTracker
  - DOMAIN-KEYWORD,fsm,PrivateTracker
  - DOMAIN-KEYWORD,greatposterwall,PrivateTracker
  - DOMAIN-KEYWORD,hdsky,PrivateTracker
  - DOMAIN-KEYWORD,hdhome,PrivateTracker
  - DOMAIN-KEYWORD,hhanclub,PrivateTracker
  - DOMAIN-KEYWORD,hdupt,PrivateTracker
  - DOMAIN-KEYWORD,hdkyl,PrivateTracker
  - DOMAIN-KEYWORD,hares,PrivateTracker
  - DOMAIN-KEYWORD,hddolby,PrivateTracker
  - DOMAIN-KEYWORD,hdvideo,PrivateTracker
  - DOMAIN-KEYWORD,hdtime,PrivateTracker
  - DOMAIN-KEYWORD,hdfans,PrivateTracker
  - DOMAIN-KEYWORD,hdarea,PrivateTracker
  - DOMAIN-KEYWORD,hdchina,PrivateTracker
  - DOMAIN-KEYWORD,haidan,PrivateTracker
  - DOMAIN-KEYWORD,icc2022,PrivateTracker
  - DOMAIN-KEYWORD,ilolicon,PrivateTracker
  - DOMAIN-KEYWORD,keepfrds,PrivateTracker
  - DOMAIN-KEYWORD,kufei,PrivateTracker
  - DOMAIN-KEYWORD,m-team,PrivateTracker
  - DOMAIN-KEYWORD,monikadesign,PrivateTracker
  - DOMAIN-KEYWORD,nicept,PrivateTracker
  - DOMAIN-KEYWORD,ourbits,PrivateTracker
  - DOMAIN-KEYWORD,oshen,PrivateTracker
  - DOMAIN-KEYWORD,okpt,PrivateTracker
  - DOMAIN-KEYWORD,ptvicomo,PrivateTracker
  - DOMAIN-KEYWORD,pandapt,PrivateTracker
  - DOMAIN-KEYWORD,pthome,PrivateTracker
  - DOMAIN-KEYWORD,ptchina,PrivateTracker
  - DOMAIN-KEYWORD,qingwapt,PrivateTracker
  - DOMAIN-KEYWORD,leaves,PrivateTracker
  - DOMAIN-KEYWORD,rousi,PrivateTracker
  - DOMAIN-KEYWORD,ptsbao,PrivateTracker
  - DOMAIN-KEYWORD,star-space,PrivateTracker
  - DOMAIN-KEYWORD,soulvoice,PrivateTracker
  - DOMAIN-KEYWORD,totheglory,PrivateTracker
  - DOMAIN-KEYWORD,ubits,PrivateTracker
  - DOMAIN-KEYWORD,wintersakura,PrivateTracker
  - DOMAIN-KEYWORD,crabpt,PrivateTracker
  - DOMAIN-KEYWORD,hdmayi,PrivateTracker
  - DOMAIN-KEYWORD,zmpt,PrivateTracker
  - DOMAIN-KEYWORD,zhuque,PrivateTracker
  - DOMAIN-KEYWORD,hdatmos,PrivateTracker
  - DOMAIN-KEYWORD,hddolby,PrivateTracker
  - DOMAIN-KEYWORD,announce,PrivateTracker
  - DOMAIN-KEYWORD,torrent,PrivateTracker
# åˆ†æµ-æœ¬åœ°IP
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,17.0.0.0/8,DIRECT
  - IP-CIDR,100.64.0.0/10,DIRECT
  - IP-CIDR,224.0.0.0/4,DIRECT
  - IP-CIDR6,fe80::/10,DIRECT
# åˆ†æµ-å…¶ä»–
  - MATCH,æ¼ç½‘ä¹‹é±¼
